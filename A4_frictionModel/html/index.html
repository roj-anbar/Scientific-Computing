<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Friction Rate Model: Friction Rate Model</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Friction Rate Model
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Friction Rate Model </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is a package for computing the friction rate based on a sample time-series of positions. It aims to find an estimate of friction constant from a falling motion of an object in a viscous liquid.</p>
<p>It includes modules for generating synthetic data, analyzing velocity changes, and estimating friction rate using numerical differentiation. The package consists of:</p><ul>
<li>A "friction" module that computes the friction rate based on velocity samples taken at fixed time intervals.</li>
<li>A "model" module that generates sample time-series data based on user-specified parameters or default values.</li>
</ul>
<h1><a class="anchor" id="autotoc_md0"></a>
Generating sample data</h1>
<p>You can generate synthetic sample data using the "model" module. The data represents position (z) over time (t) under a given friction model.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Defaul model parameters</h2>
<p>If not parameters are provided, the dataset is created using the following default values:</p><ul>
<li>Friction constant: alpha= 0.125</li>
<li>Initial velocity: v0= 10</li>
<li>Initial position: z0= 0</li>
<li>Gravitational acceleration: g= 9.8</li>
<li>Time step: dt= 0.25</li>
<li>Time range: t= 0 to 16</li>
</ul>
<h2><a class="anchor" id="autotoc_md2"></a>
Running the model</h2>
<p>To generate a sample dataset with the default parameters run: <br  />
 </p><div class="fragment"><div class="line">make testmodel.dat</div>
</div><!-- fragment --><p>Alternatively, you can specify custom parameters via command-line arguments.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Performing data analysis</h1>
<p>Once the sample data is generated, you can analyze the frition rate from velocity changes over time. To perform the data analysis on the generated data run: <br  />
 </p><div class="fragment"><div class="line">make analysis</div>
</div><!-- fragment --><p>This will process the dataset, apply numerical differentiation, estimate the friction coefficient, and output the results.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Generating documentation</h1>
<p>The package also includes Doxygen documentation for detailed explanation of functions and code structure.</p>
<p>Run the following commands to generate the documentation: <br  />
 </p><div class="fragment"><div class="line">doxygen -g</div>
<div class="line">sed -i &#39;s/PROJECT_NAME[ ]*=.*/PROJECT_NAME=Friction Rate Model/&#39; Doxyfile</div>
<div class="line">doxygen</div>
<div class="line">make -C latex</div>
</div><!-- fragment --><p>Ensure that Doxygen and Latex are installed before running these commands. The resulting documentation will be in latex/refman.pdf and html/index.html.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Dependencies</h1>
<p>To run this package, the following dependencies must be installed on your system:</p><ul>
<li>C++ Compiler (e.g., gcc)</li>
<li>Boost C++ Libraries (program_options)</li>
<li>rarray Library (for handling numerical arrays)</li>
<li>Doxygen &amp; LaTeX (for generating documentation)</li>
</ul>
<h1><a class="anchor" id="autotoc_md6"></a>
Example usage</h1>
<p>Below is showing an example use of the package that generates sample dataset (with default parameters), analyze it, and creates documentation: <br  />
 </p><div class="fragment"><div class="line">make testmodel.dat</div>
<div class="line">make analysis</div>
<div class="line">make doc</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md7"></a>
Improving stability</h1>
<p>It should be noted that the current implementation of the "frictionrate" function in "friction" module is susceptible to numerical instability and may produce NaN or Inf values due to division by a near-zero value during the computation. Specifically, "frictionrate" is dividing by the change in velocity over time, which is computed using numerical differentiation. If two consecutive velocity values in the dataset are nearly identical, then this will result in a near-zero denominator leading to instability.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Possible fixes</h2>
<p>To make "frictionrate" more robust, consider the following modifications:</p><ul>
<li>Apply a threshold to prevent division by near-zero values. For instance, implement an if to checke if dv/dt was smaller than a threshold (e.g. 1e-6), then set it to a specified value.</li>
<li>Use a moving average of a smoothing filter before differentiation. In this way, you can reduce the high-frequency noises in the data that might cause small velocity changes.</li>
<li>Check if the final calculated value of friction rate is physically valid. If it exceeds a realistic range, then report a warning. </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
